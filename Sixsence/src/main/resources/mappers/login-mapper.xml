<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="com.six.mappers.MemberMapper">
    <!--  회원가입 정보 등록  -->
    <insert id="memberSignUp" parameterType="Member" useGeneratedKeys="true" keyProperty="memberNo">

        INSERT INTO member(member_no ,member_id, member_pw, member_pwCheck, member_name, member_age,
     member_gender, member_birth, member_email, member_address, member_phone)
        VALUES(#{memberNo} ,#{memberId},#{memberPw},#{memberPwCheck},#{memberName},#{memberAge},
     #{memberGender},#{memberBirth},#{memberEmail},#{memberAddress},#{memberPhone})

    </insert>
    <!--  아이디 중복 검사  -->
    <select id="memberIdCheck">
        SELECT COUNT(*)
        FROM member
        WHERE member_id = #{memberId}
    </select>
    <!-- 로그인 정보 확인하고 반환 -->
    <select id="memberLogin" resultType="Member">
        SELECT * FROM member
        WHERE member_id = #{memberId}
        AND member_pw = #{memberPw}
    </select>

    <!-- 회원가입 여부 확인 -->
    <select id="registerCheck" parameterType="Member">
        SELECT Count(*) FROM member
        WHERE member_name = #{memberName}
        AND member_birth = #{memberBirth}
        AND member_phone = #{memberPhone}
    </select>

    <!-- ID 찾기 -->
    <select id="memberIdFind" resultType="com.six.dto.Member">
        SELECT * FROM member
        WHERE member_name = #{memberName}
          AND member_birth = #{memberBirth}
          AND member_phone = #{memberPhone}
    </select>

    <!-- 비밀번호 찾기 전 회원 정보 확인 -->
    <select id="memberInfoFind" resultType="com.six.dto.Member">
        SELECT * FROM member
        WHERE member_id = #{memberId}
          AND member_birth = #{memberBirth}
          AND member_phone = #{memberPhone}
    </select>

</mapper>
